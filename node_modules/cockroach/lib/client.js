/*!
 * cockroach
 * https://github.com/alexmingoia/cockroach
 */

'use strict';

var DriverClient = require('roachjs');

/**
 * @module cockroach
 */

module.exports = CockroachClient;

/**
 * Create a new client to interface with CockroachDB.
 *
 * @param {Object} options Options passed to RoachJS
 * @param {String=} options.uri defaults to `http://127.0.0.1:8080`
 * @param {String=} options.user user to run requests with (default: `root`)
 * @param {Boolean} options.retry retry requests when cockroachdb responds with
 * a busy signal (default: true)
 * @alias module:cockroach
 */
function CockroachClient(options) {
  if (!(this instanceof CockroachClient)) {
    return new CockroachClient(options);
  }

  this.driver = new DriverClient(options);
}
