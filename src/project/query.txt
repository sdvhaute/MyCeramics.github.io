CREATE TABLE projects (
    ID SERIAL PRIMARY KEY,
    projectname VARCHAR(30) NOT NULL,
    projectdesc VARCHAR(100) NOT NULL,
    startDate DATE DEFAULT NOW()::DATE NOT NULL,
    thrown BOOLEAN DEFAULT False,
    trimmed BOOLEAN DEFAULT False,
    bisque BOOLEAN DEFAULT False,
    glazed BOOLEAN DEFAULT False,
    glazefired BOOLEAN DEFAULT False,
    user_id SERIAL REFERENCES users(id)
);

CREATE TABLE projects2 (
    ID SERIAL PRIMARY KEY,
    projectname VARCHAR(30) NOT NULL,
    projectdesc VARCHAR(100) NOT NULL,
    imgurl VARCHAR(1000000),
    startDate DATE DEFAULT NOW()::DATE NOT NULL,
    thrown BOOLEAN DEFAULT False NOT NULL,
    thrownDate DATE,
    trimmed BOOLEAN DEFAULT False NOT NULL,
    trimmedDate DATE,
    trimmedImg VARCHAR(1000000),
    bisque BOOLEAN DEFAULT False NOT NULL,
    bisqueDate DATE,
    bisqueImg VARCHAR(1000000),
    glazed BOOLEAN DEFAULT False NOT NULL,
    glazedDate DATE,
    glazedImg VARCHAR(1000000),
    glazefired BOOLEAN DEFAULT False NOT NULL,
    glazefiredDate DATE,
    glazefiredImg VARCHAR(1000000),
    formClay VARCHAR(1000),
    claytype VARCHAR(1000),
    startWeightClay INT,
    dimensions VARCHAR(1000),
    dimensionsheight INT,
    dimensionslength INT,
    dimensionswidth INT,
    glazeType VARCHAR(1000),
    notes VARCHAR(1000000),
    user_id SERIAL REFERENCES users(id) NOT NULL
);

projectname, projectdesc, startdate, enddate, thrown, trimmed, bisque, glazed, glazefired, creator_id, imgurl

formClay, clayType, startWeightClay, dimensions, glazetype, notes


lorem10


ALTER TABLE projects2
RENAME COLUMN glaze TO glazeType;

ALTER TABLE creators
ADD project_id BIGINT REFERENCES projects(ID);

ALTER TABLE projects2
ADD dimensionswidth INT;

dimensionsheight INT,
    dimensionslength INT,
    dimensionswidth INT,

ALTER TABLE creators
  DROP COLUMN project_id;

ALTER TABLE projects
ADD creator_id SERIAL REFERENCES creators(ID);

ALTER TABLE projects
ADD FOREIGN KEY user_id SERIAL NOT NULL REFERENCES users(ID) ;

INSERT INTO projects (projectname, projectdesc, creator_id) VALUES ('Saramics Project1', 'Four bowls', 1 );
INSERT INTO projects (projectname, projectdesc, creator_id) VALUES ('Saramics Project2', 'Four spoon', 1 );
INSERT INTO projects (projectname, projectdesc, creator_id) VALUES ('Lalimics Project1', 'Cat food bowl', 2 );
INSERT INTO projects (projectname, projectdesc, creator_id) VALUES ('Lalimics Project2', 'Cat water bowl', 2 );
INSERT INTO projects (projectname, projectdesc, creator_id) VALUES ('Zorromics Project1', 'Plate', 3 );

INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project1', 'Plate', 'false', 'false','false','false','false', 1 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project2', 'Plate', 'false', 'false','false','false','false', 2 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project3', 'Plate', 'false', 'false','false','false','false', 3 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project4', 'Plate', 'false', 'false','false','false','false', 1 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project5', 'Plate', 'false', 'false','false','false','false', 2 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project6', 'Plate', 'false', 'false','false','false','false', 3 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project7', 'Plate', 'false', 'false','false','false','false', 1 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project8', 'Plate', 'false', 'false','false','false','false', 2 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project9', 'Plate', 'false', 'false','false','false','false', 3 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project10', 'Plate', 'false', 'false','false','false','false', 1 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project11', 'Plate', 'false', 'false','false','false','false', 2 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project12', 'Plate', 'false', 'false','false','false','false', 3 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project13', 'Plate', 'false', 'false','false','false','false', 1 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project14', 'Plate', 'false', 'false','false','false','false', 2 );
INSERT INTO projects (projectname, projectdesc,thrown, trimmed, bisque, glazed, glazefired, creator_id) VALUES ('Project15', 'Plate', 'false', 'false','false','false','false', 3 );


{
    
        "projectname": "Lalimics Project3",
        "projectdesc": "Cat food bowl",
        "startdate" : "2022-10-01",
        "enddate": null,
        "thrown": true,
        "trimmed": false,
        "bisque": false,
        "glazed": false,
        "glazefired": false,
        "creator_id": 1
    
}


"INSERT INTO projects (projectname, projectdesc, COALESCE(startdate, NOW()::DATE), COALESCE(enddate, NOW()::DATE), COALESCE(thrown, f),  COALESCE(trimmed, f), COALESCE(bisque, f), COALESCE(glazed, f), COALESCE(glazefired, f), creator_id) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9; $10)";


ALTER TABLE projects ALTER COLUMN  thrown BOOLEAN NOT NULL, trimmed BOOLEAN NOT NULL, bisque BOOLEAN NOT NULL, glazed BOOLEAN NOT NULL, glazefired BOOLEAN NOT NULL;

ALTER TABLE projects 
ALTER COLUMN thrown, trimmed, bisque, glazed, glazefired SET NOT NULL;

ALTER TABLE projects2 
ALTER COLUMN projectdesc SET VARCHAR(1000);

ALTER TABLE projects 
ALTER COLUMN glazed SET NOT NULL;

ALTER TABLE projects 
ALTER COLUMN glazefired SET NOT NULL;




"INSERT INTO projects (projectname, projectdesc, startdate, enddate, thrown, trimmed, bisque, glazed, glazefired, creator_id) 
VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)
ON CONFLICT
";


INSERT INTO projects (projectname, projectdesc, startdate, creator_id) VALUES ($1, $2, COALESCE($3, DEFAULT), $4);


ALTER TABLE projects2 ALTER COLUMN projectdesc VARCHAR (2000);


ALTER TABLE projects2 
ALTER COLUMN projectdesc TYPE VARCHAR(2000);

select * from projects2 where 'a' IN (projectname, projectdesc);


SELECT * FROM projects2 WHERE  (projectname, projectdesc) LIKE ${stringSearch}  AND user_id=${user_id}



